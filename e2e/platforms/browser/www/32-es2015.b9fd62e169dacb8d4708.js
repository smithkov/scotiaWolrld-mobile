(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"22TP":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),e=u("18Le"),r=u("ZZ/e"),i=u("AytR"),b=u("CUZT");class o{constructor(l,n,u,t,e,r){this.auth=l,this.navCtrl=n,this.router=u,this.storage=t,this.loaderService=e,this.authenticationService=r,this.loaderService.showLoader("Loading ..."),this.photoUrl=i.a.photoUrl,this.authenticationService.getCurrentUser().then(l=>{this.authenticationService.getMessages(l).subscribe(n=>{this.loaderService.hideLoader(),this.messages=n.data,this.roleId=l.roleId})})}ngOnInit(){}read(l){let n=JSON.stringify(l);l.hasRead?this.router.navigate(["pages/message-read",n]):this.authenticationService.markMessageAsRead(l.id).subscribe(l=>{console.log(l),this.router.navigate(["pages/message-read",n])})}compose(){this.router.navigate(["/pages/compose"])}}class a{}var s=u("pMnS"),c=u("oBZk"),h=u("SVse"),p=u("iInd"),g=u("xgBC"),m=t.pb({encapsulation:0,styles:[".msg[_ngcontent-%COMP%] {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }",[""]],data:{}});function d(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,3,"ion-buttons",[["slot","end"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.compose()&&t),t}),c.Q,c.f)),t.qb(1,49152,null,0,r.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,1,"ion-icon",[["name","create"],["size","large"]],null,null,null,c.cb,c.r)),t.qb(3,49152,null,0,r.D,[t.h,t.k,t.x],{name:[0,"name"],size:[1,"size"]},null)],(function(l,n){l(n,3,0,"create","large")}),null)}function f(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,10,"ion-label",[],null,null,null,c.hb,c.w)),t.qb(1,49152,null,0,r.O,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,1,"h2",[],null,null,null,null,null)),(l()(),t.Jb(3,null,["Sent by ",""])),(l()(),t.rb(4,0,null,0,1,"h3",[],null,null,null,null,null)),(l()(),t.Jb(5,null,["",""])),(l()(),t.rb(6,0,null,0,2,"h5",[["slot","end"]],null,null,null,null,null)),(l()(),t.Jb(7,null,["",""])),t.Fb(8,1),(l()(),t.rb(9,0,null,0,1,"h6",[["class","msg"]],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""]))],null,(function(l,n){l(n,3,0,n.parent.context.$implicit.senderName),l(n,5,0,n.parent.context.$implicit.subject);var u=t.Kb(n,7,0,l(n,8,0,t.Db(n.parent.parent,0),n.parent.context.$implicit.createdAt));l(n,7,0,u),l(n,10,0,n.parent.context.$implicit.message)}))}function k(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,14,"ion-label",[],null,null,null,c.hb,c.w)),t.qb(1,49152,null,0,r.O,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,"h2",[],null,null,null,null,null)),(l()(),t.rb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(4,null,["Sent by ",""])),(l()(),t.rb(5,0,null,0,2,"h3",[],null,null,null,null,null)),(l()(),t.rb(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(7,null,["",""])),(l()(),t.rb(8,0,null,0,3,"h5",[["slot","end"]],null,null,null,null,null)),(l()(),t.rb(9,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""])),t.Fb(11,1),(l()(),t.rb(12,0,null,0,2,"h6",[["class","msg"]],null,null,null,null,null)),(l()(),t.rb(13,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Jb(14,null,["",""]))],null,(function(l,n){l(n,4,0,n.parent.context.$implicit.senderName),l(n,7,0,n.parent.context.$implicit.subject);var u=t.Kb(n,10,0,l(n,11,0,t.Db(n.parent.parent,0),n.parent.context.$implicit.createdAt));l(n,10,0,u),l(n,14,0,n.parent.context.$implicit.message)}))}function x(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,8,"ion-item",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.read(l.context.$implicit)&&t),t}),c.gb,c.t)),t.qb(1,49152,null,0,r.I,[t.h,t.k,t.x],null,null),(l()(),t.rb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,c.M,c.b)),t.qb(3,49152,null,0,r.g,[t.h,t.k,t.x],null,null),(l()(),t.rb(4,0,null,0,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),t.gb(16777216,null,0,1,null,f)),t.qb(6,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,k)),t.qb(8,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,6,0,n.context.$implicit.hasRead),l(n,8,0,!n.context.$implicit.hasRead)}),(function(l,n){l(n,4,0,t.vb(2,"",n.component.photoUrl,"",n.context.$implicit.senderPhoto,""))}))}function v(l){return t.Lb(0,[t.Eb(0,h.d,[t.s]),(l()(),t.rb(1,0,null,null,13,"ion-header",[],null,null,null,c.bb,c.q)),t.qb(2,49152,null,0,r.C,[t.h,t.k,t.x],null,null),(l()(),t.rb(3,0,null,0,11,"ion-toolbar",[["color","primary"]],null,null,null,c.vb,c.K)),t.qb(4,49152,null,0,r.Db,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.rb(5,0,null,0,2,"ion-title",[],null,null,null,c.ub,c.J)),t.qb(6,49152,null,0,r.Bb,[t.h,t.k,t.x],null,null),(l()(),t.Jb(-1,0,["Inbox"])),(l()(),t.rb(8,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,c.Q,c.f)),t.qb(9,49152,null,0,r.m,[t.h,t.k,t.x],null,null),(l()(),t.rb(10,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Db(l,12).onClick(u)&&e),e}),c.N,c.c)),t.qb(11,49152,null,0,r.h,[t.h,t.k,t.x],null,null),t.qb(12,16384,null,0,r.i,[[2,r.jb],r.Jb],null,null),(l()(),t.gb(16777216,null,0,1,null,d)),t.qb(14,16384,null,0,h.j,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.rb(15,0,null,null,9,"ion-content",[["fullscreen",""],["padding",""]],null,null,null,c.X,c.m)),t.qb(16,49152,null,0,r.v,[t.h,t.k,t.x],{fullscreen:[0,"fullscreen"]},null),t.qb(17,16384,null,0,r.e,[t.k],null,null),(l()(),t.rb(18,0,null,0,6,"ion-list",[],null,null,null,c.jb,c.x)),t.qb(19,49152,null,0,r.P,[t.h,t.k,t.x],null,null),(l()(),t.rb(20,0,null,0,2,"ion-list-header",[],null,null,null,c.ib,c.y)),t.qb(21,49152,null,0,r.Q,[t.h,t.k,t.x],null,null),(l()(),t.Jb(-1,0,[" Messages "])),(l()(),t.gb(16777216,null,0,1,null,x)),t.qb(24,278528,null,0,h.i,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,4,0,"primary"),l(n,14,0,!u.roleId),l(n,16,0,""),l(n,24,0,u.messages)}),null)}function q(l){return t.Lb(0,[(l()(),t.rb(0,0,null,null,1,"app-messages",[],null,null,null,v,m)),t.qb(1,114688,null,0,o,[e.a,r.Jb,p.m,g.b,b.a,e.a],null,null)],(function(l,n){l(n,1,0)}),null)}var J=t.nb("app-messages",o,q,{},{},[]),B=u("s7LF");u.d(n,"MessagesPageModuleNgFactory",(function(){return I}));var I=t.ob(a,[],(function(l){return t.Ab([t.Bb(512,t.j,t.Z,[[8,[s.a,J]],[3,t.j],t.v]),t.Bb(4608,h.l,h.k,[t.s,[2,h.r]]),t.Bb(4608,B.l,B.l,[]),t.Bb(4608,r.c,r.c,[t.x,t.g]),t.Bb(4608,r.Ib,r.Ib,[r.c,t.j,t.p]),t.Bb(4608,r.Mb,r.Mb,[r.c,t.j,t.p]),t.Bb(1073742336,h.b,h.b,[]),t.Bb(1073742336,B.k,B.k,[]),t.Bb(1073742336,B.b,B.b,[]),t.Bb(1073742336,r.Fb,r.Fb,[]),t.Bb(1073742336,p.o,p.o,[[2,p.t],[2,p.m]]),t.Bb(1073742336,a,a,[]),t.Bb(1024,p.k,(function(){return[[{path:"",component:o}]]}),[])])}))}}]);