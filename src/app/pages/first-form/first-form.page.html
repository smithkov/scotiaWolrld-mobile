<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Personal Information</ion-title>
  
  </ion-toolbar>
</ion-header>
<style>
  :root {
    --ion-safe-area-top: 20px;
    --ion-safe-area-bottom: 22px;
  }
</style>
<ion-content padding fullscreen>
  <div *ngIf="isForm1">
      <form #form="ngForm" (ngSubmit)="saveForm1(form)" method="post">
          <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label position="stacked"
                >First Name <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="selectedFn"
                name="firstname"
                type="text"
                placeholder="First Name"
                ngModel
                required
              ></ion-input>
            </ion-item>
      
            <ion-item>
              <ion-label position="stacked"
                >Middle Name <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="selectedMn"
                name="middlename"
                type="text"
                placeholder="Middle Name"
                ngModel
                required
              ></ion-input>
            </ion-item>
      
            <ion-input
              [(ngModel)]="id"
              type="hidden"
              name="id"
              ngModel
              required
            ></ion-input>
      
            <ion-item>
              <ion-label position="stacked"
                >Last Name <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="selectedLn"
                name="lastname"
                type="text"
                placeholder="Last Name"
                ngModel
                required
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label>Nationality</ion-label>
              <ion-select
                [(ngModel)]="selected"
                [selectedText]="selected"
                (ionChange)="getCountry($event)"
                name="countryId"
                required
              >
                <ion-select-option
                  *ngFor="let item of country"
                  value="{{ item.name }}"
                  >{{ item.name }}</ion-select-option
                >
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label>Date of Birth</ion-label>
              <ion-datetime
                [ngModel]="selectedDOB"
                (ionChange)="getDOB($event)"
                name="dob"
                value="1990-02-19"
                placeholder="Select Date"
                required
              ></ion-datetime>
            </ion-item>
            <ion-item>
              <ion-label>Gender</ion-label>
              <ion-select
                [(ngModel)]="selectedGender"
                (ionChange)="getGender($event)"
                name="gender"
                required
              >
                <ion-select-option value="Male">
                  Male
                </ion-select-option>
                <ion-select-option value="Female">
                  Female
                </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label>Marital Status</ion-label>
              <ion-select
                [(ngModel)]="selectedMarital"
                (ionChange)="getMarital($event)"
                name="marital"
                required
              >
                <ion-select-option value="Married">
                  Married
                </ion-select-option>
                <ion-select-option value="Single">
                  Single
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
          <ion-card (click)="showModal()"  class="ion-padding" *ngIf="data"> 
              <ion-card-header>
                <ion-card-subtitle>{{data.name}}</ion-card-subtitle>
                <ion-card-title>{{data.Institution.name}}</ion-card-title>
              </ion-card-header>
              <div class="ion-text-center">
                  (Tap to change course)
                </div>
            </ion-card>
          
          <ion-toolbar>
            <div class="ion-padding">
              <ion-button
                expand="block"
                [disabled]="form.invalid"
                type="submit"
                class="ion-no-margin"
                >Save</ion-button
              >
            </div>
          </ion-toolbar>
        </form>
  </div>
  <div *ngIf="isForm2">
      <form #form="ngForm" (ngSubmit)="saveForm2(form)" method="post">
          <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label position="floating">Home Address</ion-label>
              <ion-textarea
                required
                [(ngModel)]="homeAddress"
                name="homeAddress"
              ></ion-textarea>
            </ion-item>
            <ion-input
              [(ngModel)]="id"
              type="hidden"
              name="id"
              ngModel
              required
            ></ion-input>
      
            <ion-item>
              <ion-label position="floating">Postal Address (If different)</ion-label>
              <ion-textarea
                [(ngModel)]="postalAddress"
                name="postalAddress"
              ></ion-textarea>
            </ion-item>
      
            <ion-item>
              <ion-label position="stacked"
                >Phone Number <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="phone"
                name="phone"
                type="tel"
                placeholder="Telephone phone number"
                ngModel
                required
              ></ion-input>
            </ion-item>
          </ion-list>
          <ion-card (click)="showModal()"  class="ion-padding" *ngIf="data"> 
              <ion-card-header>
                <ion-card-subtitle>{{data.name}}</ion-card-subtitle>
                <ion-card-title>{{data.Institution.name}}</ion-card-title>
              </ion-card-header>
              <div class="ion-text-center">
                  (Tap to change course)
                </div>
            </ion-card>
          <ion-toolbar>
            <div class="ion-padding">
              <ion-button
                expand="block"
                [disabled]="form.invalid"
                type="submit"
                class="ion-no-margin"
                >Save</ion-button
              >
            </div>
          </ion-toolbar>
        </form>
  </div>
  <div *ngIf="isForm3">
      <form #form="ngForm" (ngSubmit)="saveForm3(form)" method="post">
          <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label>Highest Qualification</ion-label>
              <ion-select
                [(ngModel)]="hQualificationSel"
                [selectedText]="hQualificationSel"
                (ionChange)="getHQuali($event)"
                name="hQualification"
                required
              >
                <ion-select-option
                  *ngFor="let item of quali"
                  value="{{ item.name }}"
                  >{{ item.name }}</ion-select-option
                >
              </ion-select>
            </ion-item>
            <ion-input
            [(ngModel)]="id"
            type="hidden"
            name="id"
            ngModel
            required
          ></ion-input>
            <ion-item>
              <ion-label position="stacked"
                >Qualification Grade <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="hGrade"
                name="hGrade"
                type="text"
                placeholder="Grade"
                ngModel
                required
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"
                >Institution Name <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="hSchoolName"
                name="hSchoolName"
                type="text"
                placeholder="Institution Name"
                ngModel
                required
              ></ion-input>
            </ion-item>
      
            <ion-item>
              <ion-label>Programme Completed</ion-label>
              <ion-select
                required
                [(ngModel)]="hCompletedSel"
                [selectedText]="hCompletedSel"
                (ionChange)="getHProgramme($event)"
                name="hCompleted"
              >
                <ion-select-option value="Yes">
                  Yes
                </ion-select-option>
                <ion-select-option value="No">
                  No
                </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label>Programme Year</ion-label>
              <ion-datetime
                [(ngModel)]="hProgrammeYearSel"
                (ionChange)="getHYear($event)"
                placeholder="Programme Year"
                name="hProgrammeYear"
                displayFormat="YYYY"
              ></ion-datetime>
            </ion-item>
      
            <ion-item>
              <ion-label>Previous Qualification</ion-label>
              <ion-select
                required
                [(ngModel)]="pQualificationSel"
                [selectedText]="pQualificationSel"
                (ionChange)="getPQuali($event)"
                name="pQualification"
              >
                <ion-select-option
                  *ngFor="let item of quali"
                  value="{{ item.name }}"
                  >{{ item.name }}</ion-select-option
                >
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"
                >Qualification grade <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="pGrade"
                name="pGrade"
                type="text"
                placeholder="Grade"
                ngModel
              ></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="stacked"
                >Institution Name <ion-text color="danger">*</ion-text></ion-label
              >
              <ion-input
                [(ngModel)]="pSchoolName"
                name="pSchoolName"
                type="text"
                placeholder="Institution Name"
                ngModel
              ></ion-input>
            </ion-item>
      
            <ion-item>
              <ion-label>Programme Completed</ion-label>
              <ion-select
                [(ngModel)]="pCompletedSel"
                [selectedText]="pCompletedSel"
                (ionChange)="getPProgramme($event)"
                name="pCompleted"
              >
                <ion-select-option value="Yes">
                  Yes
                </ion-select-option>
                <ion-select-option value="No">
                  No
                </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label>Programme Year</ion-label>
              <ion-datetime
                [(ngModel)]="pProgrammeYearSel"
                (ionChange)="getPYear($event)"
                placeholder="Programme Year"
                name="pProgrammeYear"
                displayFormat="YYYY"
              ></ion-datetime>
            </ion-item>
            <ion-item>
              <ion-label>English Test</ion-label>
              <ion-select
                [(ngModel)]="englishTestSel"
                [selectedText]="englishTestSel"
                (ionChange)="getEnglishTest($event)"
                name="englishTest"
                required
              >
                <ion-select-option value="IELTS">
                  IELTS
                </ion-select-option>
                <ion-select-option value="TOEFL">
                  TOEFL
                </ion-select-option>
                <ion-select-option value="PTE">
                  PTE
                </ion-select-option>
                <ion-select-option value="NONE">
                  NONE
                </ion-select-option>
              </ion-select>
            </ion-item>
          </ion-list>
          <ion-card (click)="showModal()"  class="ion-padding" *ngIf="data"> 
              <ion-card-header>
                <ion-card-subtitle>{{data.name}}</ion-card-subtitle>
                <ion-card-title>{{data.Institution.name}}</ion-card-title>
              </ion-card-header>
              <div class="ion-text-center">
                  (Tap to change course)
                </div>
            </ion-card>
          <ion-toolbar>
            <div class="ion-padding">
              <ion-button
                expand="block"
                [disabled]="form.invalid"
                type="submit"
                class="ion-no-margin"
                >Save</ion-button
              >
            </div>
          </ion-toolbar>
        </form>
  </div>
  <div *ngIf="isForm4">
      <form #form="ngForm" (ngSubmit)="saveForm4(form)" method="post">
          <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label>Have you applied for a UK VISA before?</ion-label>
              <ion-select
                required
                [(ngModel)]="hasAppliedSel"
                [selectedText]="hasAppliedSel"
                (ionChange)="getHasApplied($event)"
                name="hasApplied"
              >
                <ion-select-option value="Yes">
                  Yes
                </ion-select-option>
                <ion-select-option value="No">
                  No
                </ion-select-option>
              </ion-select>
            </ion-item>
            <ion-item>
              <ion-label position="floating">If yes, purpose of travel</ion-label>
              <ion-textarea [(ngModel)]="purpose" name="purpose"></ion-textarea>
            </ion-item>
            <ion-item>
              <ion-label position="floating"
                >If visa refused, reasons of visa refusal</ion-label
              >
              <ion-textarea
                [(ngModel)]="reasonOfRefusal"
                name="reasonOfRefusal"
              ></ion-textarea>
            </ion-item>
      
            <ion-item>
              <ion-label position="floating">More Information</ion-label>
              <ion-textarea [(ngModel)]="moreInfo" name="moreInfo"></ion-textarea>
            </ion-item>
          </ion-list>
          <ion-card (click)="showModal()"  class="ion-padding" *ngIf="data"> 
              <ion-card-header>
                <ion-card-subtitle>{{data.name}}</ion-card-subtitle>
                <ion-card-title>{{data.Institution.name}}</ion-card-title>
              </ion-card-header>
              <div class="ion-text-center">
                  (Tap to change course)
                </div>
            </ion-card>
          <ion-toolbar>
            <div class="ion-padding">
              <ion-button
                expand="block"
                [disabled]="form.invalid"
                type="submit"
                class="ion-no-margin"
                >Save</ion-button
              >
            </div>
          </ion-toolbar>
        </form>
  </div>
 
  
</ion-content>
